{"version":3,"file":"fetch-json.pipe.js","sourceRoot":"","sources":["fetch-json.pipe.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAkC,eAAe,CAAC,CAAA;AAClD,qBAAkC,eAAe,CAAC,CAAA;AAOlD;IAIE,uBAAoB,KAAU;QAAV,UAAK,GAAL,KAAK,CAAK;QAHtB,gBAAW,GAAO,IAAI,CAAC;QACvB,YAAO,GAAG,EAAE,CAAC;IAGrB,CAAC;IAED,iCAAS,GAAT,UAAU,GAAU;QAApB,iBASC;QARC,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC;iBAChB,GAAG,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,IAAI,EAAE,EAAb,CAAa,CAAC;iBAC5B,SAAS,CAAC,UAAA,MAAM,IAAI,OAAA,KAAI,CAAC,WAAW,GAAG,MAAM,EAAzB,CAAyB,CAAC,CAAC;QACpD,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IApBH;QAAC,WAAI,CAAC;YACJ,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,KAAK;SACZ,CAAC;;qBAAA;IAkBF,oBAAC;AAAD,CAAC,AAjBD,IAiBC;AAjBY,qBAAa,gBAiBzB,CAAA","sourcesContent":["import {Pipe, PipeTransform} from '@angular/core';\nimport {Http}                from '@angular/http';\n\n\n@Pipe({\n  name: 'fetch',\n  pure: false\n})\nexport class FetchJsonPipe implements PipeTransform {\n  private fetchedJson:any = null;\n  private prevUrl = '';\n\n  constructor(private _http:Http) {\n  }\n\n  transform(url:string):any {\n    if (url !== this.prevUrl) {\n      this.prevUrl = url;\n      this.fetchedJson = null;\n      this._http.get(url)\n        .map(result => result.json())\n        .subscribe(result => this.fetchedJson = result);\n    }\n    return this.fetchedJson;\n  }\n}\n"]}